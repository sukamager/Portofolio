<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
<link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />
<title>Kalkulator Splitter Sederhana — Perhitungan dB Akurat</title>
<style>
  body {
    width: 100%;
    min-height: 100vh;
    background-image: url("./img/background.jpg");
    background-size: cover;
    overflow-x: hidden;
    position: relative;
    padding: 0;
    margin: 0;
    }
  nav {
            width: 100%;
            height: 10vh;
            position: relative;
            z-index: 1000;
        }

        .nav-container {
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: space-around;
            align-items: center;
        }

        .logo {
            color: white;
            font-size: 2rem;
            font-weight: bold;
        }

        .logo span {
            color: rgb(50, 132, 255);
            text-shadow: 0 0 10px rgb(50, 132, 255);
        }

        .hamburg,
        .cancel {
            cursor: pointer;
            position: absolute;
            right: 15px;
            top: 10px;
            color: white;
            display: none;
            font-size: clamp(2.5rem, 0.5rem + 5vw, 3rem);
        }

        .nav-container .links {
            display: flex;
        }

        .nav-container .links a {
            font-size: 1.2rem;
            color: white;
            margin: 0 20px;
            text-decoration: none;
            font-weight: 550;
            transition: 0.3s linear;
        }

        .nav-container .links a:hover {
            color: rgb(50, 132, 255);
            border-bottom: 2px solid rgb(50, 132, 255);
        }

        .nav-container .links .active {
            color: rgb(50, 132, 255);
            border-bottom: 2px solid rgb(50, 132, 255);
        }

        .dropdown {
            z-index: 1000;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            transform: translateY(-500px);
            width: 100%;
            height: auto;
            backdrop-filter: blur(4px) brightness(40%);
            box-shadow: 0 0 20px black;
            transition: 0.2s linear;
        }

        .dropdown .links a {
            display: flex;
            color: white;
            text-decoration: none;
            padding: 15px 0;
            justify-content: center;
            align-items: center;
            transition: 0.2s linear;
        }

        .dropdown .links a:hover {
            background-color: rgb(50, 132, 255);
        }
        @media (max-height: 800px) {
            body {
                height: auto;
                min-height: 100vh;
            }

            .contact-container {
                height: auto;
                min-height: 90vh;
            }
        }

        @media (max-width: 884px) {
            nav .logo {
                position: absolute;
                top: 16px;
                left: 15px;
                font-size: 1.5rem;
            }

            .nav-container .links {
                display: none;
            }

            .hamburg,
            .cancel {
                display: block;
            }
        }
  .wrap
  {max-width:720px;
    margin:auto;
    background:rgba(255,255,255,0.03);
    padding:18px;border-radius:12px;
    border:1px solid rgba(80,140,255,0.08);
    }
  h1{color:#60a5fa;margin:0 0 12px}
  label{
    display:block;
    margin-top:10px;
    color:#c9d5e5;
    }
  input,select{
    width:100%;
    padding:10px;
    margin-top:6px;
    border-radius:8px;
    background:#0f172a;
    border:1px solid rgba(255,255,255,0.05);color:white;
    }
  button{
    margin-top:14px;
    width:100%;
    padding:12px;
    background:#60a5fa;
    border:0;
    border-radius:8px;
    color:#022;
    font-weight:600;
    cursor:pointer;
    }
  pre{
  background:#071422;
  padding:14px;
  border-radius:8px;
  margin-top:14px;
  white-space:pre-wrap;
  color:white; /* ← tambahan penting */
    }
    .row{
    display:flex;
    gap:12px
    }
    .col{
    flex:1
    }
    .muted{
    color:#94a3b8;
    font-size:13px;
    }
</style>
</head>
<body>
  <nav>
    <div class="nav-container">
        <div class="logo" data-aos="zoom-in" data-aos-duration="1500">
            Suka <span>Mager</span>
        </div>
        <div class="links">
            <div class="link" data-aos="fade-up" data-aos-duration="1500" data-aos-delay="100"><a
                    href="index.html">Utama</a></div>
            <div class="link" data-aos="fade-up" data-aos-duration="1500" data-aos-delay="200"><a
                    href="about.html">Tentang</a></div>
            <div class="link" data-aos="fade-up" data-aos-duration="1500" data-aos-delay="300"><a
                    href="memory.html">Hobi & Girl</a></div>
            <div class="link" data-aos="fade-up" data-aos-duration="1500" data-aos-delay="500"><a
                    href="contact.html">Kontak</a></div>
            <div class="link" data-aos="fade-up" data-aos-duration="1500" data-aos-delay="500"><a
                    href="tool.html">Alat Bantu</a></div>
            <div class="link active" data-aos="fade-up" data-aos-duration="1500" data-aos-delay="500"><a
                    href="splitter.html">Rasio</a></div>
        </div>
    </div>
    <i class="fa-solid fa-bars hamburg" onclick="hamburg()"></i>
    <div class="dropdown">
        <div class="links">
            <a href="index.html">Utama</a>
            <a href="about.html">Tentang</a>
            <a href="memory.html">Hobi & Girl</a>
            <a href="contact.html">Kontak</a>
            <a href="tool.html">Alat Bantu</a>
            <a href="splitter.html">Rasio</a>
            <i class="fa-solid fa-xmark cancel" onclick="cancel()"></i>
        </div>
    </div>
</nav>

<div class="wrap">
  <h1>Kalkulator Splitter Mager Tapi AKurat Bro</h1>
  <p class="muted">Masukkan power masuk (dBm), Sesuaikan Sama kebutuhan kamu Bro santai Aja.....</p>

  <label>Input Bro (dBm)</label>
  <input id="pin" type="number" step="0.01" placeholder="contoh: -3" />

  <label>Pilih Mode</label>
  <select id="mode">
    <option value="plc">PLC 1:N</option>
    <option value="percent">Rasio Persentase 2-port</option>
  </select>

  <div id="plcBlock">
    <label>Rasio PLC (1:N)</label>
    <select id="plc">
      <option value="2">1:2</option>
      <option value="4">1:4</option>
      <option value="8">1:8</option>
      <option value="16">1:16</option>
      <option value="32">1:32</option>
      <option value="64">1:64</option>
    </select>
    <label>Loss PLC (dB) — optional (jika kosong pakai tipikal)</label>
    <input id="plcLoss" type="number" step="0.01" placeholder="misal: 0.8" />
  </div>

  <div id="pctBlock" style="display:none">
    <label>Rasio Persentase (pilih 2-port)</label>
    <select id="ratio">
      <option value="1:99">1% : 99%</option>
      <option value="2:98">2% : 98%</option>
      <option value="3:97">3% : 97%</option>
      <option value="4:96">4% : 96%</option>
      <option value="5:95">5% : 95%</option>
      <option value="6:94">6% : 94%</option>
      <option value="7:93">7% : 93%</option>
      <option value="8:92">8% : 92%</option>
      <option value="9:91">9% : 91%</option>
      <option value="10:90">10% : 90%</option>
      <option value="15:85">15% : 85%</option>
      <option value="20:80">20% : 80%</option>
      <option value="25:75">25% : 75%</option>
      <option value="30:70">30% : 70%</option>
      <option value="35:65">35% : 65%</option>
      <option value="40:60">40% : 60%</option>
      <option value="45:55">45% : 55%</option>
      <option value="50:50">50% : 50%</option>
    </select>
    <label>Loss Rasio Persentase (dB) — optional</label>
    <input id="ratioLoss" type="number" step="0.01" placeholder="misal: 1.2" />
  </div>

  <label>Loss Tambahan (Connector/Splice/Fiber total) (dB)</label>
  <input id="extra" type="number" step="0.01" placeholder="misal: 1.0" />

  <button onclick="compute()">Hitung</button>

  <pre id="out">—</pre>
</div>

<script src="https://unpkg.com/aos@next/dist/aos.js"></script>
<script>
        AOS.init({offset: 0});
        
        function hamburg() {
            const navbar = document.querySelector(".dropdown")
            navbar.style.transform = "translateY(0px)"
        }
        
        function cancel() {
            const navbar = document.querySelector(".dropdown")
            navbar.style.transform = "translateY(-500px)"
        }

function dBmToMw(dbm){return Math.pow(10, dbm/10);} 
function mwTodBm(mw){return 10*Math.log10(mw);} 

const plcTypicalExcess = {2:0.5,4:1.2,8:1.5,16:1.8,32:2.0,64:2.0};

// toggle blocks
document.getElementById('mode').addEventListener('change', (e)=>{
  const v=e.target.value;
  document.getElementById('plcBlock').style.display = v==='plc'? 'block':'none';
  document.getElementById('pctBlock').style.display = v==='percent'? 'block':'none';
});

function compute(){
  const pin = parseFloat(document.getElementById('pin').value);
  if(isNaN(pin)) return alert('Masukkan power masuk (dBm)');
  const mode = document.getElementById('mode').value;
  const extra = parseFloat(document.getElementById('extra').value)||0;
  let outText = '';

  if(mode==='plc'){
    const n = parseInt(document.getElementById('plc').value);
    // splitting attenuation (dB) = 10 * log10(N)
    const splitAtt = 10*Math.log10(n);
    const userEx = parseFloat(document.getElementById('plcLoss').value);
    const excess = isNaN(userEx)? (plcTypicalExcess[n]||1.0) : userEx;
    // total loss per port = splitting attenuation + excess + extra
    const totalLoss = splitAtt + excess + extra;
    const pout = pin - totalLoss;
    outText += `Mode: PLC 1:${n}
Splitting Attenuation (ideal) : ${splitAtt.toFixed(3)} dB
Excess Loss (user/typical): ${excess.toFixed(3)} dB
Extra Loss: ${extra.toFixed(3)} dB
-----------------------------
Total Loss per port: ${totalLoss.toFixed(3)} dB
Output per port: ${pout.toFixed(3)} dBm
Output per port (mW): ${dBmToMw(pout).toExponential(3)} mW`;
  } else {
    const sel = document.getElementById('ratio').value; // like '5:95'
    const parts = sel.split(':').map(x=>parseFloat(x));
    const f1 = parts[0]/100.0;
    const f2 = parts[1]/100.0;
    // splitting attenuation per port = -10 * log10(fraction)
    const a1 = -10*Math.log10(f1);
    const a2 = -10*Math.log10(f2);
    const userEx = parseFloat(document.getElementById('ratioLoss').value);
    const excess = isNaN(userEx)? 1.5 : userEx; // default typical
    const total1 = a1 + excess + extra;
    const total2 = a2 + excess + extra;
    const pout1 = pin - total1;
    const pout2 = pin - total2;
    outText += `Mode: Rasio Persentase ${sel}
Splitting Attenuation: Port1 ${a1.toFixed(3)} dB, Port2 ${a2.toFixed(3)} dB
Excess Loss (user/typical): ${excess.toFixed(3)} dB
Extra Loss: ${extra.toFixed(3)} dB
-----------------------------
Total Loss Port1: ${total1.toFixed(3)} dB
Total Loss Port2: ${total2.toFixed(3)} dB
Output Port1: ${pout1.toFixed(3)} dBm (${dBmToMw(pout1).toExponential(3)} mW)
Output Port2: ${pout2.toFixed(3)} dBm (${dBmToMw(pout2).toExponential(3)} mW)`;
  }

  document.getElementById('out').textContent = outText;
}
</script>
</body>
</html>
